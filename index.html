<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>WALED STORE</title>
<style>
body{
  margin:0;
  font-family:Tahoma;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:#fff;
}
.container{
  max-width:420px;
  margin:40px auto;
  background:#111;
  padding:20px;
  border-radius:12px;
}
input,select,button{
  width:100%;
  padding:10px;
  margin:6px 0;
  border-radius:8px;
  border:none;
}
button{
  background:#00c6ff;
  color:#000;
  font-weight:bold;
  cursor:pointer;
}
.hidden{display:none}
.boxes{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:15px;
  margin-top:20px;
}
.box{
  background:#1e1e1e;
  padding:25px;
  text-align:center;
  border-radius:12px;
  cursor:pointer;
}
.admin{
  background:#222;
  margin-top:20px;
  padding:10px;
  border-radius:10px;
}
img{max-width:100%;border-radius:8px}
</style>
</head>
<body>

<div class="container" id="auth">
<h2>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h2>
<input id="name" placeholder="Ø§Ù„Ø§Ø³Ù…">
<input id="email" placeholder="Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„">
<input id="pass" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
<select id="currency">
<option value="SYP">Ù„ÙŠØ±Ø© Ø³ÙˆØ±ÙŠØ©</option>
<option value="TRY">Ù„ÙŠØ±Ø© ØªØ±ÙƒÙŠØ©</option>
<option value="USD">Ø¯ÙˆÙ„Ø§Ø±</option>
</select>
<button onclick="register()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
<button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</button>
<p id="msg"></p>
</div>

<div class="container hidden" id="app">
<h3 id="welcome"></h3>
<p>Ø§Ù„Ø±ØµÙŠØ¯: <span id="balance">0</span> <span id="cur"></span></p>

<div class="boxes">
<div class="box">ðŸ“± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</div>
<div class="box">ðŸŽ® Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</div>
<div class="box">ðŸ’Ž Ø´Ø­Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</div>
<div class="box" onclick="openTopup()">ðŸ’³ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø±ØµÙŠØ¯</div>
</div>

<div id="topup" class="hidden">
<h3>ØªØ¹Ø¨Ø¦Ø© Ø±ØµÙŠØ¯ (Ø´Ø§Ù… ÙƒØ§Ø´)</h3>
<input id="amount" type="number" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº">
<input id="tximg" type="file" accept="image/*">
<button onclick="sendTopup()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
</div>

<div class="admin hidden" id="admin">
<h3>Ø·Ù„Ø¨Ø§Øª ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø±ØµÙŠØ¯</h3>
<div id="orders"></div>
</div>
</div>

<script>
let adminEmail="wled49645@gmail.com";

function register(){
let users=JSON.parse(localStorage.getItem("users")||"{}");
let email=document.getElementById("email").value;
if(users[email]){msg("Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…ÙˆØ¬ÙˆØ¯ Ù…Ø³Ø¨Ù‚Ù‹Ø§");return;}
users[email]={
name:name.value,
pass:pass.value,
currency:currency.value,
balance:0
};
localStorage.setItem("users",JSON.stringify(users));
msg("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ âœ” Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¢Ù†");
}

function login(){
let users=JSON.parse(localStorage.getItem("users")||"{}");
let u=users[email.value];
if(!u||u.pass!==pass.value){msg("Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©");return;}
localStorage.setItem("current",email.value);
loadApp();
}

function loadApp(){
let email=localStorage.getItem("current");
let users=JSON.parse(localStorage.getItem("users"));
let u=users[email];
auth.classList.add("hidden");
app.classList.remove("hidden");
welcome.innerText="Ù…Ø±Ø­Ø¨Ù‹Ø§ "+u.name;
balance.innerText=u.balance;
cur.innerText=u.currency;
if(email===adminEmail)loadAdmin();
}

function openTopup(){
topup.classList.toggle("hidden");
}

function sendTopup(){
let img=document.getElementById("tximg").files[0];
if(!img){alert("Ø§Ù„ØµÙˆØ±Ø© Ø¥Ø¬Ø¨Ø§Ø±ÙŠØ©");return;}
let orders=JSON.parse(localStorage.getItem("orders")||"[]");
orders.push({
email:localStorage.getItem("current"),
amount:amount.value,
img:URL.createObjectURL(img)
});
localStorage.setItem("orders",JSON.stringify(orders));
alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ âœ”");
}

function loadAdmin(){
admin.classList.remove("hidden");
let orders=JSON.parse(localStorage.getItem("orders")||"[]");
orders.forEach(o=>{
ordersDiv=document.getElementById("orders");
ordersDiv.innerHTML+=`
<p>${o.email} - ${o.amount}</p>
<img src="${o.img}">
<hr>`;
});
}

function msg(t){document.getElementById("msg").innerText=t}

if(localStorage.getItem("current"))loadApp();
</script>
</body>
</html>
