<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ØµÙŠØ¯</title>
<style>
body {
  font-family: Arial;
  background:#111;
  color:#fff;
  padding:20px;
}
input, button {
  padding:8px;
  margin:5px 0;
  width:100%;
}
.box {
  border:1px solid #333;
  padding:15px;
  margin-bottom:20px;
  border-radius:8px;
}
button {
  background:#00c853;
  border:none;
  color:#000;
  cursor:pointer;
}
button.admin {
  background:#ffab00;
}
</style>
</head>

<body>

<h2>ğŸ” Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h2>
<div class="box">
  <input id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
  <button onclick="createAccount()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
  <p id="accountInfo"></p>
</div>

<h2>ğŸ’° Ø§Ù„Ø±ØµÙŠØ¯</h2>
<div class="box">
  <input id="accountCode" placeholder="ÙƒÙˆØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨">
  <button onclick="checkBalance()">Ø¹Ø±Ø¶ Ø§Ù„Ø±ØµÙŠØ¯</button>
  <p id="balanceInfo"></p>
</div>

<h2>ğŸ›’ Ø´Ø±Ø§Ø¡</h2>
<div class="box">
  <button onclick="buy('ff')">100 Ø¬ÙˆÙ‡Ø±Ø© ÙØ±ÙŠ ÙØ§ÙŠØ± = 1$</button>
  <button onclick="buy('pubg')">60 UC Ø¨Ø¨Ø¬ÙŠ = 1$</button>
  <p id="buyInfo"></p>
</div>

<h2>ğŸ§‘â€ğŸ’¼ Ø´Ø­Ù† (Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„)</h2>
<div class="box">
  <input id="adminCode" placeholder="ÙƒÙˆØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨">
  <input id="amount" placeholder="Ù‚ÙŠÙ…Ø© Ø§Ù„Ø´Ø­Ù† Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±">
  <button class="admin" onclick="charge()">Ø´Ø­Ù†</button>
  <p id="adminInfo"></p>
</div>

<h2>ğŸ“¡ API TikTok</h2>
<div class="box">
  <button onclick="loadServices()">Ø¬Ù„Ø¨ Ø§Ù„Ø®Ø¯Ù…Ø§Øª</button>
  <button onclick="orderTikTok()">Ø·Ù„Ø¨ Ù…ØªØ§Ø¨Ø¹ÙŠÙ†</button>
  <button onclick="checkOrder()">Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</button>
  <pre id="apiResult"></pre>
</div>

<script>
// ================== Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ‡Ù…ÙŠØ© ==================
const users = {};

// ================== Ø¥Ù†Ø´Ø§Ø¡ ÙƒÙˆØ¯ Ø­Ø³Ø§Ø¨ ==================
function generateCode(name) {
  return name.toUpperCase() + Math.floor(1000 + Math.random()*9000);
}

// ================== Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ ==================
function createAccount() {
  const name = document.getElementById("username").value;
  if (!name) return;
  const code = generateCode(name);
  users[code] = { balance: 0 };
  document.getElementById("accountInfo").innerText =
    `ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨\nÙƒÙˆØ¯Ùƒ: ${code}\nØ§Ù„Ø±ØµÙŠØ¯: 0$`;
}

// ================== Ø¹Ø±Ø¶ Ø§Ù„Ø±ØµÙŠØ¯ ==================
function checkBalance() {
  const code = document.getElementById("accountCode").value;
  if (!users[code]) {
    document.getElementById("balanceInfo").innerText = "Ø§Ù„Ø­Ø³Ø§Ø¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯";
    return;
  }
  document.getElementById("balanceInfo").innerText =
    `Ø±ØµÙŠØ¯Ùƒ: ${users[code].balance}$`;
}

// ================== Ø£Ø³Ø¹Ø§Ø± ==================
const prices = {
  ff: 1,
  pubg: 1
};

// ================== Ø´Ø±Ø§Ø¡ ==================
function buy(type) {
  const code = document.getElementById("accountCode").value;
  if (!users[code]) return;
  const price = prices[type];
  if (users[code].balance < price) {
    document.getElementById("buyInfo").innerText = "Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ";
    return;
  }
  users[code].balance -= price;
  document.getElementById("buyInfo").innerText =
    `ØªÙ… Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¨Ù†Ø¬Ø§Ø­ â€“ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${users[code].balance}$`;
}

// ================== Ø´Ø­Ù† Ø±ØµÙŠØ¯ (Ù…Ø³Ø¤ÙˆÙ„) ==================
function charge() {
  const code = document.getElementById("adminCode").value;
  const amount = Number(document.getElementById("amount").value);
  if (!users[code]) return;
  users[code].balance += amount;
  document.getElementById("adminInfo").innerText =
    `ØªÙ… Ø§Ù„Ø´Ø­Ù† â€“ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯: ${users[code].balance}$`;
}

// ================== API ==================
function loadServices() {
  fetch("http://api.denji-sms.xyz/api/v1/social/available")
    .then(r => r.json())
    .then(d => document.getElementById("apiResult").innerText =
      JSON.stringify(d, null, 2));
}

function orderTikTok() {
  fetch("http://api.denji-sms.xyz/api/v1/social/request", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      api_code: "tk_fy",
      qty: 1000,
      link: "https://www.tiktok.com/@username/video/12345"
    })
  })
  .then(r => r.json())
  .then(d => document.getElementById("apiResult").innerText =
    JSON.stringify(d, null, 2));
}

function checkOrder() {
  fetch("http://api.denji-sms.xyz/api/v1/social/status/5678")
    .then(r => r.json())
    .then(d => document.getElementById("apiResult").innerText =
      JSON.stringify(d, null, 2));
}
</script>

</body>
</html>
