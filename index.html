<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Gem Shop</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box;font-family:Arial}
body{
  margin:0;
  min-height:100vh;
  background:radial-gradient(circle at top,#ff7a18,#000);
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
}
.hidden{display:none}
.container{
  width:100%;
  max-width:420px;
  padding:15px;
}
.card{
  background:#111c;
  border-radius:14px;
  padding:15px;
  margin:10px 0;
}
input,button{
  width:100%;
  padding:12px;
  margin:6px 0;
  border-radius:10px;
  border:none;
}
button{
  background:#ff7a18;
  color:#000;
  font-weight:bold;
}
.top{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.balance{
  font-weight:bold;
}
.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}
.box{
  background:#222;
  padding:20px;
  border-radius:14px;
  text-align:center;
}
.menu{
  position:relative;
}
.menuBtn{
  background:none;
  color:#fff;
  font-size:22px;
}
.menuList{
  position:absolute;
  right:0;
  background:#222;
  border-radius:10px;
  overflow:hidden;
}
.menuList div{
  padding:10px;
  border-bottom:1px solid #333;
}
.menuList div:last-child{border:none}
</style>
</head>

<body>
<div class="container">

<!-- ØªØ³Ø¬ÙŠÙ„ -->
<div id="auth" class="card">
  <h2>Gem Shop</h2>
  <input id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
  <input id="password" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
  <button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
  <button onclick="register()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
</div>

<!-- Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ -->
<div id="app" class="hidden">

  <div class="top">
    <div class="balance" onclick="openRecharge()">
      ðŸ’° <span id="balance">0</span>$
    </div>
    <div class="menu">
      <button class="menuBtn" onclick="toggleMenu()">â‹®</button>
      <div id="menuList" class="menuList hidden">
        <div onclick="changePassword()">ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</div>
        <div onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</div>
      </div>
    </div>
  </div>

  <div class="grid">
    <div class="box" onclick="openGames()">ðŸŽ® Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</div>
    <div class="box" onclick="openApps()">ðŸ“± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</div>
    <div class="box" onclick="openRecharge()">ðŸ’³ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø±ØµÙŠØ¯</div>
    <div class="box" onclick="openOrders()">ðŸ“¦ Ø·Ù„Ø¨Ø§ØªÙŠ</div>
  </div>

  <div id="content"></div>

</div>
</div>

<script>
const ADMIN_EMAIL="wled49645@gmail.com";
const ADMIN_PASSWORD="wled12123456";
let user=null;

function save(){localStorage.setItem("users",JSON.stringify(users))}
let users=JSON.parse(localStorage.getItem("users")||"[]");

if(!users.find(u=>u.email===ADMIN_EMAIL)){
  users.push({email:ADMIN_EMAIL,password:ADMIN_PASSWORD,balance:0,orders:[],admin:true});
  save();
}

function register(){
  if(users.find(u=>u.email===email.value))return alert("Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…ÙˆØ¬ÙˆØ¯");
  users.push({email:email.value,password:password.value,balance:0,orders:[],admin:false});
  save(); alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨");
}

function login(){
  user=users.find(u=>u.email===email.value&&u.password===password.value);
  if(!user)return alert("Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø©");
  auth.classList.add("hidden");
  app.classList.remove("hidden");
  update();
}

function logout(){location.reload()}

function update(){
  balance.innerText=user.balance;
  content.innerHTML="";
}

function toggleMenu(){menuList.classList.toggle("hidden")}

function openGames(){
  content.innerHTML=`
  <div class="card">
    <h3>Free Fire</h3>
    <button onclick="order('100 Ø¬ÙˆÙ‡Ø±Ø© - Free Fire')">100 Ø¬ÙˆÙ‡Ø±Ø© - $0.5</button>
    <button onclick="order('200 Ø¬ÙˆÙ‡Ø±Ø© - Free Fire')">200 Ø¬ÙˆÙ‡Ø±Ø© - $1</button>
  </div>
  <div class="card">
    <h3>PUBG</h3>
    <button onclick="order('60 UC - PUBG')">60 UC - $0.5</button>
    <button onclick="order('120 UC - PUBG')">120 UC - $1</button>
  </div>`;
}

function openApps(){
  content.innerHTML=`<div class="card">ðŸ“º Ø´Ø§Ù‡Ø¯ VIP (ÙˆÙ‡Ù…ÙŠ)</div>`;
}

function order(p){
  const id=prompt("Ø£Ø¯Ø®Ù„ ID");
  user.orders.push({product:p,id,status:"Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"});
  save();
  alert("Ù‚ÙŠØ¯ Ø§Ù„Ø´Ø­Ù† Ù…Ù† Ø¯Ù‚ÙŠÙ‚Ø© Ø¥Ù„Ù‰ 5 Ø¯Ù‚Ø§Ø¦Ù‚");
}

function openOrders(){
  content.innerHTML=user.orders.length
    ? user.orders.map(o=>`<div class="card">${o.product}<br>${o.status}</div>`).join("")
    : "<div class='card'>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª</div>";
}

function openRecharge(){
  content.innerHTML=`
  <div class="card">
    <p>Ø´Ø§Ù… ÙƒØ§Ø´</p>
    <p>Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ 5$</p>
    <p>29607b06505ee18f34a7fc5022404325</p>
    <button onclick="alert('ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ Ø§Ù†ØªØ¸Ø± Ù…Ù† 1 Ø¥Ù„Ù‰ 5 Ø¯Ù‚Ø§Ø¦Ù‚')">ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„</button>
  </div>`;
}

function changePassword(){
  const p=prompt("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©");
  if(!p)return;
  user.password=p;
  save();
  alert("ØªÙ… Ø§Ù„ØªØºÙŠÙŠØ±");
}
</script>
</body>
</html>
